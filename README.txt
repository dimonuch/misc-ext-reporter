Ext-Reporter

Анализирует файл журнала (номер абонента и дата звонка) на предмет отсутствия активности абонентов.
Отображает список абонентов без звонков и список абонентов с наиболее старыми последними звонками.

== Требования

Python 3.x
Библиотека python3-pandas версии 22 и выше


== Использование

Запуск отчетов:
$ python3 reports.py 

Для генерации тестового набора данных:
$ python3 test_data_gen.py

По желанию, можно изменять настройки (config) в начале каждого файла.
Для запуска в качестве контейнера Docker см. ниже.


== Принцип работы

Анализируются только номера из файла exts.csv (или иного указанного в config). Список фильтруется, остаются только уникальные номера. 
В случае наличия в журнале записей с номерами, отсутствующими в списке, такие записи игнорируются.

Выводится список абонентов, по которым отсутствуют записи в журнале.
Для каждого абонента (номера) выбирается самая поздняя дата звонка из журнала. Выводится список, упорядоченный по дате (от ранней к поздней). 

Количество элементов в списках можно указывать в config в файле reports.pyю


== Docker

Для сборки образа из каталога с файлами выполнить:

$ docker build -t misc-ext-reporter .

точка в конце обязательна!!! Образ достаточно собрать один раз. Изменяемые файлы (скрипты и файлы с данными) 
каждый раз подключаются в контейнер при его запуске.

Для запуска в контейнере отчетов или генератора, из каталога с файлами выполнить соотв. команду:

$ docker run -it --rm -v $(pwd):/misc-ext-reporter misc-ext-reporter python3 reports.py 
$ docker run -it --rm -v $(pwd):/misc-ext-reporter misc-ext-reporter python3 test_data_gen.py

Команда

$ docker run -it --rm -v $(pwd):/misc-ext-reporter misc-ext-reporter

вызовет интерактивный шелл (bash). 


== Лицензия

BSD 2-Clause. См. файл LICENSE.